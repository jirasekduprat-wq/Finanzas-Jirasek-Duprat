'use client'; import { useState, useEffect } from 'react'; export default function Home() { const [expenses, setExpenses] = useState([]); const [newExpenseName, setNewExpenseName] = useState(''); const [newExpenseAmount, setNewExpenseAmount] = useState(''); const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7)); useEffect(() => { const storedExpenses = localStorage.getItem('expenses'); if (storedExpenses) { setExpenses(JSON.parse(storedExpenses)); } else { const initialExpenses = [ { id: 1, name: 'Alquiler', amount: 750000, month: '2026-02', paid: 750000 }, { id: 2, name: 'Luz', amount: 800000, month: '2026-02', paid: 0 }, { id: 3, name: 'Transporte NiÃ±os', amount: 850000, month: '2026-02', paid: 850000 }, { id: 4, name: 'Cuota Adam colegio', amount: 990000, month: '2026-02', paid: 990000 }, { id: 5, name: 'Cuota Emma colegio', amount: 891000, month: '2026-02', paid: 891000 }, { id: 6, name: 'Clases guitarra adam', amount: 400000, month: '2026-02', paid: 400000 }, { id: 7, name: 'Gymnasio Iva', amount: 150000, month: '2026-02', paid: 150000 }, { id: 8, name: 'Gymnasio adam', amount: 150000, month: '2026-02', paid: 150000 }, { id: 9, name: 'Supermercado', amount: 3000000, month: '2026-02', paid: 0 } ]; setExpenses(initialExpenses); localStorage.setItem('expenses', JSON.stringify(initialExpenses)); } }, []); const addExpense = () => { if (!newExpenseName || !newExpenseAmount) return; const newExpense = { id: Date.now(), name: newExpenseName, amount: parseFloat(newExpenseAmount), month: selectedMonth, paid: 0 }; const updatedExpenses = [...expenses, newExpense]; setExpenses(updatedExpenses); localStorage.setItem('expenses', JSON.stringify(updatedExpenses)); setNewExpenseName(''); setNewExpenseAmount(''); }; const updatePayment = (id, newPaidAmount) => { const updatedExpenses = expenses.map(exp => exp.id === id ? { ...exp, paid: parseFloat(newPaidAmount) } : exp ); setExpenses(updatedExpenses); localStorage.setItem('expenses', JSON.stringify(updatedExpenses)); }; const monthExpenses = expenses.filter(exp => exp.month === selectedMonth); const totalAmount = monthExpenses.reduce((sum, exp) => sum + exp.amount, 0); const totalPaid = monthExpenses.reduce((sum, exp) => sum + exp.paid, 0); const totalPending = totalAmount - totalPaid; const progressPercent = totalAmount > 0 ? Math.round((totalPaid / totalAmount) * 100) : 0; return ( <div className="min-h-screen bg-gray-100 p-8"> <div className="max-w-7xl mx-auto"> <div className="mb-8 text-center"> <h1 className="text-4xl font-bold text-gray-800 mb-2">ðŸ’° Finanzas Jirasek Duprat</h1> <p className="text-gray-600">Gestor de pagos y transacciones financieras</p> </div> <div className="grid grid-cols-3 gap-4 mb-8"> <div className="bg-white rounded-lg shadow p-6 border-l-4 border-blue-500"> <p className="text-sm text-gray-600 mb-1">Total Mes</p> <p className="text-3xl font-bold text-blue-600">Gs. {totalAmount.toLocaleString()}</p> </div> <div className="bg-white rounded-lg shadow p-6 border-l-4 border-green-500"> <p className="text-sm text-gray-600 mb-1">Total Pagado</p> <p className="text-3xl font-bold text-green-600">Gs. {totalPaid.toLocaleString()}</p> </div> <div className="bg-white rounded-lg shadow p-6 border-l-4 border-red-500"> <p className="text-sm text-gray-600 mb-1">Total Pendiente</p> <p className="text-3xl font-bold text-red-600">Gs. {totalPending.toLocaleString()}</p> </div> </div> <div className="mb-8 bg-white rounded-lg shadow p-6"> <div className="flex justify-between items-center mb-2"> <p className="font-semibold text-gray-700">Progreso general</p> <p className="text-sm font-bold text-gray-600">{progressPercent}%</p> </div> <div className="w-full bg-gray-300 rounded-full h-4 overflow-hidden"> <div className="bg-blue-500 h-4 rounded-full transition-all" style={{ width: `${progressPercent}%` }}></div> </div> </div> <div className="mb-8 bg-white rounded-lg shadow p-6"> <label className="block text-sm font-semibold text-gray-700 mb-2">Seleccionar Mes</label> <input type="month" value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} className="border border-gray-300 rounded px-4 py-2 w-full max-w-xs" /> </div> <div className="mb-8 bg-white rounded-lg shadow p-6"> <h2 className="text-lg font-bold text-gray-800 mb-4">Agregar nuevo gasto</h2> <div className="flex gap-3"> <input type="text" value={newExpenseName} onChange={(e) => setNewExpenseName(e.target.value)} placeholder="Nombre del gasto" className="flex-1 border border-gray-300 rounded px-4 py-2" /> <input type="number" value={newExpenseAmount} onChange={(e) => setNewExpenseAmount(e.target.value)} placeholder="Monto" className="w-40 border border-gray-300 rounded px-4 py-2" /> <button onClick={addExpense} className="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded font-semibold transition"> + Agregar </button> </div> </div> <div className="bg-white rounded-lg shadow overflow-hidden"> <table className="w-full"> <thead className="bg-gray-200 border-b-2 border-gray-300"> <tr> <th className="px-6 py-3 text-left font-bold text-gray-700">GASTO</th> <th className="px-6 py-3 text-right font-bold text-gray-700">MONTO</th> <th className="px-6 py-3 text-center font-bold text-gray-700">ESTADO</th> <th className="px-6 py-3 text-right font-bold text-gray-700">PAGADO</th> <th className="px-6 py-3 text-right font-bold text-gray-700">PENDIENTE</th> <th className="px-6 py-3 text-center font-bold text-gray-700">PROGRESO</th> </tr> </thead> <tbody> {monthExpenses.map((expense) => { const pending = expense.amount - expense.paid; const percent = expense.amount > 0 ? Math.round((expense.paid / expense.amount) * 100) : 0; const isPaid = pending <= 0; const isPartial = expense.paid > 0 && pending > 0; return ( <tr key={expense.id} className="border-b border-gray-200 hover:bg-gray-50"> <td className="px-6 py-4 text-gray-800">{expense.name}</td> <td className="px-6 py-4 text-right font-semibold text-gray-800">Gs. {expense.amount.toLocaleString()}</td> <td className="px-6 py-4 text-center"> {isPaid ? ( <span className="bg-green-200 text-green-800 px-3 py-1 rounded-full text-xs font-bold">âœ“ Pagado</span> ) : isPartial ? ( <span className="bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold">- Parcial</span> ) : ( <span className="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-xs font-bold">âœ— No pagado</span> )} </td> <td className="px-6 py-4 text-right"> <div className="flex items-center justify-end gap-2"> <input type="number" min="0" max={expense.amount} value={expense.paid} onChange={(e) => updatePayment(expense.id, e.target.value)} className="w-24 border border-green-300 rounded px-2 py-1 text-right text-green-600 font-semibold" /> </div> </td> <td className="px-6 py-4 text-right font-semibold text-red-600">Gs. {pending.toLocaleString()}</td> <td className="px-6 py-4 text-center"> <div className="flex items-center justify-center gap-2"> <div className="w-20 bg-gray-300 rounded-full h-2 overflow-hidden"> <div className="bg-blue-500 h-2 transition-all" style={{ width: `${percent}%` }}></div> </div> <span className="text-xs font-bold text-gray-700 w-10 text-right">{percent}%</span> </div> </td> </tr> ); })} </tbody> </table> </div> <div className="mt-8 text-center text-gray-600 text-sm"> <p>Total de gastos en {selectedMonth}: {monthExpenses.length} items</p> </div> </div> </div> ); }