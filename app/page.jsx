'use client'; import React, { useState, useEffect } from 'react'; const ExpenseTracker = () => { const [expenses, setExpenses] = useState([]); const [newExpenseName, setNewExpenseName] = useState(''); const [newExpenseAmount, setNewExpenseAmount] = useState(''); useEffect(() => { const storedExpenses = localStorage.getItem('expenses'); if (storedExpenses) { setExpenses(JSON.parse(storedExpenses)); } else { const initialExpenses = [ { name: 'Alquiler', amount: 750000, paid: 0 }, { name: 'Luz', amount: 800000, paid: 0 }, { name: 'Transporte NiÃ±os', amount: 850000, paid: 0 }, { name: 'Cuota Adam colegio', amount: 990000, paid: 0 }, { name: 'Cuota Emma colegio', amount: 891000, paid: 0 }, { name: 'Clases guitarra adam', amount: 400000, paid: 0 }, { name: 'Gymnasio Iva', amount: 150000, paid: 0 }, { name: 'Gymnasio adam', amount: 150000, paid: 0 }, { name: 'Supermercado', amount: 3000000, paid: 0 } ]; setExpenses(initialExpenses); localStorage.setItem('expenses', JSON.stringify(initialExpenses)); } }, []); const addExpense = () => { if (!newExpenseName || !newExpenseAmount) return; const updatedExpenses = [...expenses, { name: newExpenseName, amount: parseFloat(newExpenseAmount), paid: 0 }]; setExpenses(updatedExpenses); localStorage.setItem('expenses', JSON.stringify(updatedExpenses)); setNewExpenseName(''); setNewExpenseAmount(''); }; const handlePayment = (index, amount) => { const updatedExpenses = [...expenses]; updatedExpenses[index].paid += parseFloat(amount); localStorage.setItem('expenses', JSON.stringify(updatedExpenses)); setExpenses(updatedExpenses); }; const totalAmount = expenses.reduce((total, expense) => total + expense.amount, 0); const totalPaid = expenses.reduce((total, expense) => total + expense.paid, 0); const totalPending = totalAmount - totalPaid; return ( <div className="p-5"> <h1 className="text-2xl font-bold mb-4">Expense Tracker</h1> <div className="mb-4"> <input type="text" value={newExpenseName} onChange={(e) => setNewExpenseName(e.target.value)} placeholder="Expense Name" className="border p-2 mr-2" /> <input type="number" value={newExpenseAmount} onChange={(e) => setNewExpenseAmount(e.target.value)} placeholder="Amount" className="border p-2 mr-2" /> <button onClick={addExpense} className="bg-blue-500 text-white p-2">Add Expense</button> </div> <table className="min-w-full border-collapse border border-gray-300"> <thead> <tr> <th className="border border-gray-300 p-2">GASTO</th> <th className="border border-gray-300 p-2">MONTO</th> <th className="border border-gray-300 p-2">ESTADO</th> <th className="border border-gray-300 p-2">PAGADO</th> <th className="border border-gray-300 p-2">PENDIENTE</th> <th className="border border-gray-300 p-2">PROGRESO</th> </tr> </thead> <tbody> {expenses.map((expense, index) => { const pendiente = expense.amount - expense.paid; const progreso = ((expense.paid / expense.amount) * 100).toFixed(2); return ( <tr key={index} className="border border-gray-300"> <td className="border border-gray-300 p-2">{expense.name}</td> <td className="border border-gray-300 p-2">{expense.amount.toLocaleString()}</td> <td className="border border-gray-300 p-2">{pendiente > 0 ? 'Pending' : 'Paid'}</td> <td className="border border-gray-300 p-2"> <input type="number" min="0" onChange={(e) => handlePayment(index, e.target.value)} className="border p-1" placeholder="Pay Amount" /> </td> <td className="border border-gray-300 p-2">{pendiente.toLocaleString()}</td> <td className="border border-gray-300 p-2">{progreso}%</td> </tr> ); })} </tbody> </table> <div className="mt-4 font-bold"> <p>Total Amount: {totalAmount.toLocaleString()}</p> <p>Total Paid: {totalPaid.toLocaleString()}</p> <p>Total Pending: {totalPending.toLocaleString()}</p> </div> </div> ); }; export default ExpenseTracker;